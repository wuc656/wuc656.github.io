import{N as i}from"./index-B2HebM-Z.js";import{D as d,u as m}from"./service-Blihfj6M.js";import{e as p}from"./primevue-Cpy0qCi2.js";import{y as c,r as u,b as g,c as f,u as t,d as o,L as v,F as L}from"./@vue-El9F00iI.js";import"./vue-router-DwT636uc.js";import"./@primeuix-DoH5r5kp.js";import"./@primevue-CPyEe4-z.js";/* empty css                   */import"./@master-24VFnj-k.js";import"./axios-upsvKRUO.js";const D={class:"mt:20 font:normal font:sans f:25"},_={class:"flex"},x={class:"flex:col w:45%"},w={class:"flex:col w:55%"},E={__name:"sqlcmd",setup(F){const r=c("toast"),a=u({response:"",temp:"",isLoading:!1,isDragging:!1}),n=async l=>{let s=new FormData;s.append("file",l[0]),a.value.isLoading=!0,await m("post","/sql/cmd",s).then(e=>{a.value.response=e.data.msg,console.log("log:",e),r.add({severity:"success",summary:"SQL執行成功",detail:l[0].name+" 執行成功!",life:15e3})}).catch(e=>{a.value.response=e,console.error("error:",e)}),a.value.isLoading=!1};return(l,s)=>(g(),f(L,null,[t(i,{text:"SQL指令"}),o("div",D,[o("div",_,[o("div",x,[s[1]||(s[1]=o("label",{class:"flex mt:2%"},"1.載入SQL檔案(.SQL 並開始上傳)",-1)),t(d,{class:"mt:2%",allowedExtension:"sql",isLoading:a.value.isLoading,isDragging:a.value.isDragging,onHandleFileDrop:n,onHandleFileOpen:n},null,8,["isLoading","isDragging"])]),o("div",w,[s[2]||(s[2]=o("label",{class:"flex mt:2%"},"2.執行結果",-1)),t(v(p),{class:"mt:2%",modelValue:a.value.response,"onUpdate:modelValue":s[0]||(s[0]=e=>a.value.response=e),rows:"18",cols:"75",readonly:""},null,8,["modelValue"])])])])],64))}};export{E as default};
